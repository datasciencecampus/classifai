runtime: python311
instance_class: F2
env: standard
service: preview     # UAT Flask service

entrypoint: gunicorn -t 300 -b 0.0.0.0:8080 flask_ui.app:app

automatic_scaling:
  min_instances: 0
  max_instances: 12

handlers:
- url: /static
  static_dir: flask_ui/static
- url: /.*
  script: auto

vpc_access_connector:
  name: projects/ons-dsc-classifai-prod/locations/europe-west2/connectors/vpc-connector

env_variables:
  PROJECT_ID: ons-dsc-classifai-prod
  ENV_TYPE: dev
  API_TYPE: live
  API_URL: https://uat-fastapi-dot-ons-dsc-classifai-prod.nw.r.appspot.com
